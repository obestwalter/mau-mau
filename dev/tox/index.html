<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.0"><title>Using Tox - Mau Mau</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../_static/extra.css"></head><body dir="ltr"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#tox-a-developer-frontend" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="../.." title="Mau Mau" class="md-header-nav__button md-logo"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Mau Mau</span><span class="md-header-nav__topic">Using Tox</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/obestwalter/mau-mau/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="../.." title="Mau Mau" class="md-nav__button md-logo"><i class="md-icon"></i></a>Mau Mau</label><div class="md-nav__source"><a href="https://github.com/obestwalter/mau-mau/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="Home" class="md-nav__link">Home</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">User Guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">User Guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../guide/installation/" title="Installation" class="md-nav__link">Installation</a></li><li class="md-nav__item"><a href="../../guide/usage/" title="Command line access" class="md-nav__link">Command line access</a></li><li class="md-nav__item"><a href="../../guide/rules/" title="Rules of Mau Mau" class="md-nav__link">Rules of Mau Mau</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">Implemenation</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">Implemenation</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../implementation/ooommm/" title="OOOMMM" class="md-nav__link">OOOMMM</a></li><li class="md-nav__item"><a href="../../implementation/remarks/" title="Remarks" class="md-nav__link">Remarks</a></li><li class="md-nav__item"><a href="../../implementation/explore/" title="Explore the code" class="md-nav__link">Explore the code</a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked><label class="md-nav__link" for="nav-4">Developer Guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Developer Guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../getting-started/" title="Getting started" class="md-nav__link">Getting started</a></li><li class="md-nav__item"><a href="../static-analysis/" title="Static code analysis" class="md-nav__link">Static code analysis</a></li><li class="md-nav__item"><a href="../tests/" title="Automatic tests" class="md-nav__link">Automatic tests</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Using Tox</label><a href="./" title="Using Tox" class="md-nav__link md-nav__link--active">Using Tox</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#what" title="What?" class="md-nav__link">What?</a></li><li class="md-nav__item"><a href="#how" title="How?" class="md-nav__link">How?</a></li><li class="md-nav__item"><a href="#tox-generated-developer-documentation" title="tox generated "developer documentation"" class="md-nav__link">tox generated "developer documentation"</a></li><li class="md-nav__item"><a href="#examples-for-running-tests" title="Examples for running tests" class="md-nav__link">Examples for running tests</a></li></ul></nav></li><li class="md-nav__item"><a href="../ci/" title="Continuous intergration" class="md-nav__link">Continuous intergration</a></li><li class="md-nav__item"><a href="../docs/" title="Working on documentation" class="md-nav__link">Working on documentation</a></li></ul></nav></li><li class="md-nav__item"><a href="../../acknowledgements/" title="Acknowlegements" class="md-nav__link">Acknowlegements</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#what" title="What?" class="md-nav__link">What?</a></li><li class="md-nav__item"><a href="#how" title="How?" class="md-nav__link">How?</a></li><li class="md-nav__item"><a href="#tox-generated-developer-documentation" title="tox generated "developer documentation"" class="md-nav__link">tox generated "developer documentation"</a></li><li class="md-nav__item"><a href="#examples-for-running-tests" title="Examples for running tests" class="md-nav__link">Examples for running tests</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/obestwalter/mau-mau/edit/master/docs/dev/tox.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1 id="tox-a-developer-frontend">tox - a developer frontend<a class="headerlink" href="#tox-a-developer-frontend" title="Permanent link">&para;</a></h1>
<h2 id="what">What?<a class="headerlink" href="#what" title="Permanent link">&para;</a></h2>
<p>The name of the <a href="https://pypi.python.org/pypi/tox">tox automation project</a> derives from "testing out of the box". It aims to "automate and standardize testing in Python". Conceptually it is one level above pytest and serves as a command line frontend for running tests and automate all kinds of tasks around the project. It also acts as a frontend for <a href="https://en.wikipedia.org/wiki/Continuous_integration">Continuous Integration Systems</a> to unify what you do locally and what happens in e.g. Jenkins or Travis CI.</p>
<h2 id="how">How?<a class="headerlink" href="#how" title="Permanent link">&para;</a></h2>
<p>tox can build the package under test, create virtual environments for different Python interpreters, install dependencies and does whatever else is needed for test preparation. After setting the stage it runs the tests and outputs the results. This way you can also run the same tests for different interpreters if you support different version of Python like 2.7 and 3.4, etc.</p>
<p>In this project we use it to run the tests and for building, developing and deploying the documentation.</p>
<h2 id="tox-generated-developer-documentation">tox generated "developer documentation"<a class="headerlink" href="#tox-generated-developer-documentation" title="Permanent link">&para;</a></h2>
<p>Since tox 2.7 you can also add descriptions to the different environments to provide a custom "developer documentation" - to get this you type <code>tox -av</code> in the e.g. in mau-mau project and the output would be like:</p>
<pre><code class="text">using tox.ini: /home/oliver/learn/mau-mau/tox.ini
using tox-2.7.0 from /home/oliver/.virtualenvs/mau-mau/lib/python3.6/site-packages/tox/__init__.py
default environments:
static            -&gt; run static tests using flake8
tests             -&gt; run automatic tests using pytest

additional environments:
docs-auto         -&gt; run local server that serves and rebuilds documentation
docs-clean        -&gt; remove the generated documentation
docs-deploy       -&gt; deploy documentation to github hosting
docs-deploy-force -&gt; delete documentation online and deploy completely fresh
</code></pre>

<p>If you want to work on the documentation you type <code>tox -e docs-auto</code> and off you go :)</p>
<h2 id="examples-for-running-tests">Examples for running tests<a class="headerlink" href="#examples-for-running-tests" title="Permanent link">&para;</a></h2>
<p>Run static code analysis:</p>
<pre><code class="bash">$ cd &lt;/path/to/your/clone&gt;
$ tox -e static
</code></pre>

<p>The output is like:</p>
<pre><code class="text">static create: &lt;/path/to/your/clone&gt;/.tox/static
static installdeps: flake8
static develop-inst: &lt;/path/to/your/clone&gt;
static installed: flake8==2.5.4,-e git+git@github.com:obestwalter/mau-mau.git@46669a6073d233b8a27eee4995c63f03a4aec7a3#egg=mau_mau,mccabe==0.4.0,pep8==1.7.0,pyflakes==1.0.0
static runtests: PYTHONHASHSEED='3703953266'
static runtests: commands[0] | flake8 &lt;/path/to/your/clone&gt;/mau_mau &lt;/path/to/your/clone&gt;/tests --show-source
</code></pre>

<p>Command line usage:</p>
<pre><code class="bash">$ cd &lt;/path/to/your/clone&gt;
$ tox -e tests
</code></pre>

<p>The output is like:</p>
<pre><code class="text">tests develop-inst-nodeps: &lt;/path/to/your/clone&gt;
tests installed: -e git+git@github.com:obestwalter/mau-mau.git@46669a6073d233b8a27eee4995c63f03a4aec7a3#egg=mau_mau,py==1.4.31,pytest==2.9.1
tests runtests: PYTHONHASHSEED='2804594378'
tests runtests: commands[0] | pytest &lt;/path/to/your/clone&gt;/tests
============================= test session starts =============================
platform linux -- Python 3.4.4, pytest-2.9.1, py-1.4.31, pluggy-0.3.1
rootdir: &lt;/path/to/your/clone&gt;, inifile: tox.ini
collected 35 items 

tests/test_concepts.py ...................
tests/test_objects.py .....
tests/test_player.py ...
tests/test_rules.py ...
tests/test_sim.py .....

========================== 35 passed in 0.04 seconds ==========================
___________________________________ summary ___________________________________
  tests: commands succeeded
  congratulations :)
</code></pre>

<p>This is a very simple setup. There are many more <a href="https://tox.readthedocs.org/en/latest/config.html">configuration options</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Just running <code>tox</code> without parameters runs all the environments defined in envlist.</p>
</div></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../tests/" title="Automatic tests" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Automatic tests</span></div></a><a href="../ci/" title="Continuous intergration" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Continuous intergration</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script></body></html>